<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tab-bar - Navegación móvil | UBITS Playground</title>
    
    <!-- Estilos locales -->
    <link rel="stylesheet" href="ubits-colors.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="fontawesome-icons.css">
    <link rel="stylesheet" href="ubits-typography.css">
    <link rel="stylesheet" href="components/sub-nav.css">
    <link rel="stylesheet" href="components/tab-bar.css">
    <link rel="stylesheet" href="components/floating-menu.css">
    <link rel="stylesheet" href="components/alert.css">
    <link rel="stylesheet" href="components-sidebar.css">
    <link rel="stylesheet" href="docs/docs-sidebar.css">
    <link rel="stylesheet" href="components/button.css">
    <link rel="stylesheet" href="components/toast.css">
    <style>
        /* Preview Styles */
        /* Preview control buttons - override UBITS button styles for active state */
        .preview-control-btn.active {
            background: var(--ubits-accent-brand) !important;
            color: white !important;
            border-color: var(--ubits-accent-brand) !important;
        }
        
        .preview-control-btn.active span {
            color: white !important;
        }
        
        /* Forzar mostrar Tab-bar en preview */
        #tab-bar-preview-real {
            display: block !important;
            position: relative !important;
            bottom: auto !important;
            left: auto !important;
            right: auto !important;
            width: 100% !important;
            max-width: 400px !important;
            margin: 0 auto !important;
        }
        
        /* Asegurar altura correcta de iconos en Tab-bar hardcodeado */
        #tab-bar-preview-real .tab-bar-icon {
            width: 24px !important;
            height: 24px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }
        
        /* Component preview container - reemplaza con estilos específicos del componente */
        .component-preview {
            position: relative !important;
            border-radius: 8px !important;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important;
            background: var(--ubits-bg-1) !important;
            border: 1px solid var(--ubits-border-1) !important;
        }
        
        /* Floating Menu en preview - forzar visibilidad */
        #floating-menu-container .floating-menu {
            position: relative !important;
            top: auto !important;
            left: auto !important;
            right: auto !important;
            bottom: auto !important;
            display: block !important;
            min-height: 500px !important;
            max-height: 600px !important;
            overflow-y: auto !important;
            margin-bottom: 12px !important;
            border-radius: 12px !important;
            width: 100% !important;
            max-width: 400px !important;
            margin-left: auto !important;
            margin-right: auto !important;
        }
        
        #floating-menu-container .floating-menu.show {
            display: block !important;
        }
        
        /* Deshabilitar hipervínculos en preview del floating menu */
        #floating-menu-container .accordion-link {
            pointer-events: none !important;
            cursor: default !important;
        }
        
        /* Pero mantener hover effects para demostración */
        #floating-menu-container .accordion-link:hover {
            background: var(--ubits-sidebar-button-bg-pressed) !important;
        }
        
        /* Título "Módulos" del floating menu en preview */
        #floating-menu-container .floating-menu-title {
            color: var(--ubits-sidebar-button-fg-default) !important;
        }
        
        /* Profile Menu Preview Container */
        #profile-menu-preview-container {
            align-items: flex-end !important;
            justify-content: center !important;
        }
        
        #profile-menu-content {
            width: 100% !important;
            display: flex !important;
            justify-content: center !important;
        }
        
        #profile-menu-preview-container.show {
            display: flex !important;
        }
        
        /* Asegurar que solo uno sea visible a la vez */
        #floating-menu-container:not([style*="display: none"]) ~ #profile-menu-preview-container {
            display: none !important;
        }
        
        /* Profile Menu en preview */
        #profile-menu-content .profile-menu {
            position: relative !important;
            background: var(--ubits-sidebar-bg) !important;
            border-radius: 8px !important;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
            padding: 8px 0 !important;
            width: 100% !important;
            max-width: 400px !important;
            display: block !important;
        }
        
        #profile-menu-content .profile-menu-item {
            display: flex !important;
            align-items: center !important;
            padding: 12px 16px !important;
            text-decoration: none !important;
            color: var(--ubits-sidebar-button-fg-default) !important;
            transition: background 0.2s ease !important;
        }
        
        #profile-menu-content .profile-menu-item:hover {
            background: var(--ubits-sidebar-button-bg-pressed) !important;
        }
        
        #profile-menu-content .profile-menu-icon {
            margin-right: 12px !important;
            width: 16px !important;
            color: var(--ubits-sidebar-button-fg-default) !important;
        }
        
        #profile-menu-content .profile-menu-text {
            color: var(--ubits-sidebar-button-fg-default) !important;
        }
    </style>
</head>
<body class="componentes-page" data-theme="light">
    <div class="dashboard-container">
        <div class="tooltip" id="tooltip"></div>
        

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Navigation -->
            <div id="top-nav-container"></div>
            
            <!-- Content with Sidebar -->
            <div style="display: flex;">
            
            <!-- Dropdown Móvil para Documentación -->
            <div id="docs-dropdown-container"></div>
            
            <!-- Sidebar de Documentación -->
            <div id="docs-sidebar-container"></div>

            <!-- Content Area -->
            <div class="components-content">
                <!-- Content Area -->
                <div class="content-area" style="display: block; width: 100%;">
                <!-- Hero Section -->
                <div style="text-align: center; margin-bottom: 60px;">
                    <h1 class="ubits-display-d2-bold" style="margin-bottom: 24px; color: var(--ubits-accent-brand);">
                        Tab-bar
                    </h1>
                    <p class="ubits-body-md-regular" style="max-width: 800px; margin: 0 auto 32px; line-height: 1.6;">
                        Componente de navegación inferior para dispositivos móviles que reemplaza al sidebar en pantallas pequeñas. Incluye el subcomponente <strong>Floating Menu</strong> que se activa desde el botón "Módulos".
                    </p>
                </div>

                <!-- Preview Section -->
                <div style="background: var(--ubits-bg-1); padding: 32px; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid var(--ubits-border-1); margin-bottom: 40px;">
                    <h2 class="ubits-heading-h2" style="margin-bottom: 24px; color: var(--ubits-fg-1-high);">
                        <i class="far fa-eye" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                        Preview del componente
                    </h2>
                    <p class="ubits-body-md-regular" style="margin-bottom: 24px; line-height: 1.6;">
                        Aquí puedes ver el componente Tab-bar en acción. Haz clic en "Módulos" para ver el <strong>Floating Menu</strong> con sus accordions interactivos.
                    </p>
                    
                    <!-- Preview Container -->
                    <div style="background: var(--ubits-bg-2); padding: 24px; border-radius: 12px; border: 1px solid var(--ubits-border-1); position: relative;">
                        
                        <!-- Floating Menu Container -->
                        <div id="floating-menu-container"></div>
                        
                        <!-- Profile Menu Preview Container -->
                        <div id="profile-menu-preview-container" style="display: none; height: 532px; width: 100%; max-width: 400px; margin: 0 auto 12px auto; align-items: flex-end; justify-content: center;">
                            <div id="profile-menu-content"></div>
                        </div>
                        
                        <!-- Tab-bar Real de UBITS -->
                        <div id="tab-bar-preview-container" style="display: flex; justify-content: center; align-items: flex-end;">
                            <div id="tab-bar-preview" style="width: 100%; max-width: 400px;">
                                <!-- Tab-bar Real de UBITS -->
                                <div class="tab-bar" id="tab-bar-preview-real">
                                    <div class="tab-bar-content">
                                        <div class="tab-bar-item active" data-tab="modulos" onclick="setPreviewOption('modulos')">
                                            <i class="far fa-grid-2 tab-bar-icon"></i>
                                            <span class="tab-bar-text ubits-body-xs-regular">Módulos</span>
                                        </div>
                                        <div class="tab-bar-item" data-tab="perfil" onclick="setPreviewOption('perfil')">
                                            <img src="images/Profile-image.jpg" alt="Mi perfil" class="tab-bar-avatar">
                                            <span class="tab-bar-text ubits-body-xs-regular">Mi perfil</span>
                                        </div>
                                        <div class="tab-bar-item" data-tab="modo-oscuro" onclick="navigateToTab('modo-oscuro')">
                                            <i class="far fa-moon tab-bar-icon"></i>
                                            <span class="tab-bar-text ubits-body-xs-regular">Modo oscuro</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Preview Controls -->
                    <div style="margin-top: 16px; display: flex; gap: 12px; flex-wrap: wrap;">
                        <button class="ubits-button ubits-button--secondary ubits-button--sm preview-control-btn active" onclick="setPreviewOption('modulos')">
                            <span>Módulos (Floating Menu)</span>
                        </button>
                        <button class="ubits-button ubits-button--secondary ubits-button--sm preview-control-btn" onclick="setPreviewOption('perfil')">
                            <span>Mi perfil</span>
                        </button>
                    </div>
                </div>

                <!-- Características generales -->
                <div style="background: var(--ubits-bg-1); padding: 32px; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid var(--ubits-border-1); margin-bottom: 40px;">
                    <h2 class="ubits-heading-h2" style="margin-bottom: 24px; color: var(--ubits-fg-1-high);">
                        <i class="far fa-info-circle" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                        Características generales
                    </h2>
                    <p class="ubits-body-md-regular" style="margin-bottom: 24px; color: var(--ubits-fg-1-medium);">
                        Reemplaza esta sección con las características específicas del componente que estés documentando.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                        <div style="text-align: center; padding: 16px; background: var(--ubits-bg-2); border-radius: 8px;">
                            <div style="font-size: 24px; color: var(--ubits-accent-brand); margin-bottom: 8px;"><i class="far fa-mobile"></i></div>
                            <div class="ubits-body-sm-bold">Móvil</div>
                            <div class="ubits-body-sm-regular">Fijo inferior</div>
                        </div>
                        <div style="text-align: center; padding: 16px; background: var(--ubits-bg-2); border-radius: 8px;">
                            <div style="font-size: 24px; color: var(--ubits-accent-brand); margin-bottom: 8px;"><i class="far fa-desktop"></i></div>
                            <div class="ubits-body-sm-bold">Desktop</div>
                            <div class="ubits-body-sm-regular">Oculto (se reemplaza por el sidebar)</div>
                        </div>
                        <div style="text-align: center; padding: 16px; background: var(--ubits-bg-2); border-radius: 8px;">
                            <div style="font-size: 24px; color: var(--ubits-accent-brand); margin-bottom: 8px;"><i class="far fa-cog"></i></div>
                            <div class="ubits-body-sm-bold">Personalizable</div>
                            <div class="ubits-body-sm-regular">Fácil de modificar y extender</div>
                        </div>
                    </div>
                </div>

                <!-- FLOATING MENU - SUBCOMPONENTE -->
                <div style="background: var(--ubits-bg-1); padding: 32px; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid var(--ubits-border-1); margin-bottom: 40px;">
                    <h2 class="ubits-heading-h2" style="margin-bottom: 24px; color: var(--ubits-fg-1-high);">
                        <i class="far fa-window-maximize" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                        Floating Menu - Subcomponente
                    </h2>
                    <p class="ubits-body-md-regular" style="margin-bottom: 24px; line-height: 1.6; color: var(--ubits-fg-1-medium);">
                        El <strong>Floating Menu</strong> es un modal que se despliega al hacer clic en "Módulos" del Tab-bar. Contiene la navegación principal organizada en accordions y enlaces directos.
                    </p>

                    <!-- Estructura del Floating Menu -->
                    <div style="margin-bottom: 32px;">
                        <h3 class="ubits-body-md-bold" style="margin-bottom: 16px; color: var(--ubits-fg-1-high);">
                            <i class="far fa-sitemap" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                            Estructura y componentes
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px;">
                            <div style="background: var(--ubits-bg-2); padding: 20px; border-radius: 8px; border: 1px solid var(--ubits-border-1);">
                                <div style="display: flex; align-items: center; margin-bottom: 12px;">
                                    <div style="width: 32px; height: 32px; background: var(--ubits-accent-brand); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px;">
                                        <i class="far fa-graduation-cap" style="color: white; font-size: 14px;"></i>
                                    </div>
                                    <div class="ubits-body-sm-bold">Accordions</div>
                                </div>
                                <div class="ubits-body-sm-regular" style="color: var(--ubits-fg-1-medium);">
                                    Secciones expandibles: Aprendizaje, Diagnóstico, Desempeño, Tareas
                                </div>
                            </div>
                            <div style="background: var(--ubits-bg-2); padding: 20px; border-radius: 8px; border: 1px solid var(--ubits-border-1);">
                                <div style="display: flex; align-items: center; margin-bottom: 12px;">
                                    <div style="width: 32px; height: 32px; background: var(--ubits-accent-brand); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px;">
                                        <i class="far fa-link" style="color: white; font-size: 14px;"></i>
                                    </div>
                                    <div class="ubits-body-sm-bold">Enlaces directos</div>
                                </div>
                                <div class="ubits-body-sm-regular" style="color: var(--ubits-fg-1-medium);">
                                    Navegación directa: Encuestas, UBITS AI
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Comportamiento -->
                    <div style="margin-bottom: 32px;">
                        <h3 class="ubits-body-md-bold" style="margin-bottom: 16px; color: var(--ubits-fg-1-high);">
                            <i class="far fa-cogs" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                            Comportamiento
                        </h3>
                        <div style="background: var(--ubits-bg-2); padding: 20px; border-radius: 8px; border: 1px solid var(--ubits-border-1);">
                            <ul style="margin: 0; padding-left: 20px; list-style: none;">
                                <li style="margin-bottom: 12px; display: flex; align-items: flex-start;">
                                    <i class="far fa-check-circle" style="color: var(--ubits-accent-brand); margin-right: 8px; margin-top: 2px; flex-shrink: 0;"></i>
                                    <span class="ubits-body-sm-regular"><strong>Accordion exclusivo:</strong> Solo un accordion puede estar abierto a la vez</span>
                                </li>
                                <li style="margin-bottom: 12px; display: flex; align-items: flex-start;">
                                    <i class="far fa-check-circle" style="color: var(--ubits-accent-brand); margin-right: 8px; margin-top: 2px; flex-shrink: 0;"></i>
                                    <span class="ubits-body-sm-regular"><strong>Estados visuales:</strong> Círculos activos en íconos cuando se expanden</span>
                                </li>
                                <li style="margin-bottom: 12px; display: flex; align-items: flex-start;">
                                    <i class="far fa-check-circle" style="color: var(--ubits-accent-brand); margin-right: 8px; margin-top: 2px; flex-shrink: 0;"></i>
                                    <span class="ubits-body-sm-regular"><strong>Navegación funcional:</strong> Todos los enlaces redirigen a sus páginas correspondientes</span>
                                </li>
                                <li style="margin-bottom: 0; display: flex; align-items: flex-start;">
                                    <i class="far fa-check-circle" style="color: var(--ubits-accent-brand); margin-right: 8px; margin-top: 2px; flex-shrink: 0;"></i>
                                    <span class="ubits-body-sm-regular"><strong>Cierre automático:</strong> Se cierra al hacer clic fuera del modal o con ESC</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>

                <!-- PROMPTS ÚTILES -->
                <div style="background: var(--ubits-bg-1); padding: 32px; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid var(--ubits-border-1); margin-bottom: 40px;">
                    <h2 class="ubits-heading-h2" style="margin-bottom: 24px; color: var(--ubits-fg-1-high);">
                        <i class="far fa-comments" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                        Prompts útiles
                    </h2>
                    <p class="ubits-body-md-regular" style="margin-bottom: 24px; line-height: 1.6; color: var(--ubits-fg-1-medium);">
                        Usa estos prompts con Cursor AI para configurar el Tab-bar y su Floating Menu de manera eficiente.
                    </p>

                    <!-- Alert Warning -->
                    <div id="tabbar-warning-alert" style="margin-bottom: 32px;"></div>

                    <!-- Prompt 1: Activar item del Tab-bar -->
                    <div style="border-bottom: 1px solid var(--ubits-border-1); padding-bottom: 24px; margin-bottom: 24px;">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
                            <h3 class="ubits-body-md-bold" style="margin: 0; color: var(--ubits-fg-1-high);">
                                Activar botón del Tab-bar móvil
                            </h3>
                            <button class="ubits-button ubits-button--secondary ubits-button--sm" onclick="copyPrompt('tabbar-prompt-1')">
                                <i class="far fa-copy"></i>
                                <span>Copiar</span>
                            </button>
                        </div>
                        <div style="background: var(--ubits-bg-2); padding: 20px; border-radius: 8px; border: 1px solid var(--ubits-border-1);">
                            <pre style="margin: 0; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 14px; line-height: 1.5; color: var(--ubits-fg-1-medium); white-space: pre-wrap;"><code id="tabbar-prompt-1">En la página [nombre-pagina.html], activa el botón [Módulos o Mi perfil] del Tab-bar móvil para que se vea seleccionado.</code></pre>
                        </div>
                    </div>

                    <!-- Prompt 2: Activar opción dentro de menú -->
                    <div style="border-bottom: 1px solid var(--ubits-border-1); padding-bottom: 24px; margin-bottom: 24px;">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
                            <h3 class="ubits-body-md-bold" style="margin: 0; color: var(--ubits-fg-1-high);">
                                Activar opción dentro de menú desplegable
                            </h3>
                            <button class="ubits-button ubits-button--secondary ubits-button--sm" onclick="copyPrompt('tabbar-prompt-2')">
                                <i class="far fa-copy"></i>
                                <span>Copiar</span>
                            </button>
                        </div>
                        <div style="background: var(--ubits-bg-2); padding: 20px; border-radius: 8px; border: 1px solid var(--ubits-border-1);">
                            <pre style="margin: 0; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 14px; line-height: 1.5; color: var(--ubits-fg-1-medium); white-space: pre-wrap;"><code id="tabbar-prompt-2">En la página [nombre-pagina.html], cuando se abra el menú "Módulos", activa la opción [nombre_de_la_opcion] que está dentro del grupo [Aprendizaje, Diagnóstico, Desempeño o Tareas].</code></pre>
                        </div>
                    </div>

                    <!-- Prompt 3: Activar enlace directo -->
                    <div>
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
                            <h3 class="ubits-body-md-bold" style="margin: 0; color: var(--ubits-fg-1-high);">
                                Activar enlace directo del menú
                            </h3>
                            <button class="ubits-button ubits-button--secondary ubits-button--sm" onclick="copyPrompt('tabbar-prompt-3')">
                                <i class="far fa-copy"></i>
                                <span>Copiar</span>
                            </button>
                        </div>
                        <div style="background: var(--ubits-bg-2); padding: 20px; border-radius: 8px; border: 1px solid var(--ubits-border-1);">
                            <pre style="margin: 0; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 14px; line-height: 1.5; color: var(--ubits-fg-1-medium); white-space: pre-wrap;"><code id="tabbar-prompt-3">En la página [nombre-pagina.html], cuando se abra el menú "Módulos", haz que se vea activa la opción de [nombre de la sección que deseas ver activa].</code></pre>
                        </div>
                    </div>
                </div>

                <!-- ACORDEÓN DE DOCUMENTACIÓN TÉCNICA -->
                <div style="background: var(--ubits-bg-1); border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid var(--ubits-border-1); margin-bottom: 40px; overflow: hidden;">
                    <!-- Header del acordeón -->
                    <div style="padding: 32px; text-align: center; border-bottom: 1px solid var(--ubits-border-1);">
                        <h2 class="ubits-heading-h2" style="margin-bottom: 0; color: var(--ubits-fg-1-high);">
                            <i class="far fa-code" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                            Documentación técnica
                        </h2>
                        <p class="ubits-body-md-regular" style="margin-top: 16px; color: var(--ubits-fg-1-medium);">
                            Reemplaza esta sección con la documentación técnica específica del componente.
                        </p>
                    </div>
                    
                    <!-- Botón de expansión -->
                    <div style="background: var(--ubits-bg-2); padding: 20px; text-align: center; cursor: pointer;" onclick="toggleTechnicalDocs()">
                        <span class="ubits-body-md-regular" style="color: var(--ubits-accent-brand); display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <i class="far fa-chevron-down" id="tech-docs-chevron" style="transition: transform 0.3s ease;"></i>
                            Mostrar
                        </span>
                    </div>
                    
                    <!-- Contenido del acordeón (inicialmente oculto) -->
                    <div id="technical-docs-content" style="display: none; padding: 0;">
                        <!-- Estructura del Componente -->
                        <div style="padding: 32px; border-bottom: 1px solid var(--ubits-border-1);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 24px;">
                                <h2 class="ubits-heading-h2" style="margin: 0; color: var(--ubits-fg-1-high);">
                                    <i class="far fa-sitemap" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                                    Estructura del componente
                                </h2>
                                <button class="ubits-button ubits-button--secondary ubits-button--sm" onclick="copyCode('structure-code')">
                                    <i class="far fa-copy"></i>
                                    <span>Copiar</span>
                                </button>
                            </div>
                            <div style="background: var(--ubits-bg-2); padding: 24px; border-radius: 12px; border: 1px solid var(--ubits-border-1);">
                                <pre style="margin: 0; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 14px; line-height: 1.5; color: var(--ubits-fg-1-medium); overflow-x: auto;"><code id="structure-code">&lt;div class="tab-bar" id="tab-bar"&gt;
  &lt;div class="tab-bar-content"&gt;
    &lt;div class="tab-bar-item" data-tab="modulos" onclick="navigateToTab('modulos')"&gt;
      &lt;i class="far fa-grid-2 tab-bar-icon"&gt;&lt;/i&gt;
      &lt;span class="tab-bar-text ubits-body-xs-regular"&gt;Módulos&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="tab-bar-item" data-tab="perfil" onclick="navigateToTab('perfil')"&gt;
      &lt;img src="images/Profile-image.jpg" alt="Mi perfil" class="tab-bar-avatar"&gt;
      &lt;span class="tab-bar-text ubits-body-xs-regular"&gt;Mi perfil&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="tab-bar-item" data-tab="modo-oscuro" onclick="navigateToTab('modo-oscuro')"&gt;
      &lt;i class="far fa-moon tab-bar-icon"&gt;&lt;/i&gt;
      &lt;span class="tab-bar-text ubits-body-xs-regular"&gt;Modo oscuro&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
                            </div>
                        </div>

                        <!-- Cómo Implementar -->
                        <div style="padding: 32px; border-bottom: 1px solid var(--ubits-border-1);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 24px;">
                                <h2 class="ubits-heading-h2" style="margin: 0; color: var(--ubits-fg-1-high);">
                                    <i class="far fa-code" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                                    Cómo implementar
                                </h2>
                                <button class="ubits-button ubits-button--secondary ubits-button--sm" onclick="copyCode('implement-code')">
                                    <i class="far fa-copy"></i>
                                    <span>Copiar</span>
                                </button>
                            </div>
                            <div style="background: var(--ubits-bg-2); padding: 20px; border-radius: 8px; border: 1px solid var(--ubits-border-1);">
                                <pre style="margin: 0; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 14px; line-height: 1.5; color: var(--ubits-fg-1-medium);"><code id="implement-code">&lt;!-- HTML --&gt;
&lt;div id="tab-bar-container"&gt;&lt;/div&gt;

&lt;!-- CSS --&gt;
&lt;link rel="stylesheet" href="components/tab-bar.css"&gt;

&lt;!-- JavaScript --&gt;
loadTabBar('tab-bar-container'); // Cargar Tab-bar
updateActiveTabBarItem('modulos'); // Cambiar item activo</code></pre>
                            </div>
                        </div>

                        <!-- API y Funciones -->
                        <div style="padding: 32px; border-bottom: 1px solid var(--ubits-border-1);">
                            <h2 class="ubits-heading-h2" style="margin-bottom: 24px; color: var(--ubits-fg-1-high);">
                                <i class="far fa-cogs" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                                API y funciones
                            </h2>
                            
                            <!-- Tab-bar Functions -->
                            <div style="margin-bottom: 24px;">
                                <h3 class="ubits-body-md-bold" style="margin-bottom: 12px; color: var(--ubits-fg-1-high);">loadTabBar(containerId)</h3>
                                <p class="ubits-body-md-regular" style="margin-bottom: 8px; line-height: 1.5;">
                                    Carga el componente Tab-bar en el contenedor especificado.
                                </p>
                                <div style="background: var(--ubits-bg-2); padding: 12px; border-radius: 6px; border-left: 4px solid var(--ubits-accent-brand);">
                                    <div class="ubits-body-sm-regular" style="color: var(--ubits-fg-1-medium);">
                                        <strong>Parámetros:</strong> containerId (string) - ID del contenedor<br>
                                        <strong>Ejemplo:</strong> loadTabBar('tab-bar-container')
                                    </div>
                                </div>
                            </div>
                            <div style="margin-bottom: 24px;">
                                <h3 class="ubits-body-md-bold" style="margin-bottom: 12px; color: var(--ubits-fg-1-high);">updateActiveTabBarItem(itemId)</h3>
                                <p class="ubits-body-md-regular" style="margin-bottom: 8px; line-height: 1.5;">
                                    Actualiza el item activo del Tab-bar sin recargar el componente.
                                </p>
                                <div style="background: var(--ubits-bg-2); padding: 12px; border-radius: 6px; border-left: 4px solid var(--ubits-accent-brand);">
                                    <div class="ubits-body-sm-regular" style="color: var(--ubits-fg-1-medium);">
                                        <strong>Parámetros:</strong> itemId (string) - ID del nuevo item activo<br>
                                        <strong>Ejemplo:</strong> updateActiveTabBarItem('modulos')
                                    </div>
                                </div>
                            </div>

                            <!-- Floating Menu Functions -->
                            <div style="margin-bottom: 24px; border-top: 1px solid var(--ubits-border-1); padding-top: 24px;">
                                <h3 class="ubits-body-md-bold" style="margin-bottom: 16px; color: var(--ubits-fg-1-high);">
                                    <i class="far fa-window-maximize" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                                    Funciones del Floating Menu
                                </h3>
                            </div>
                            
                            <div style="margin-bottom: 24px;">
                                <h3 class="ubits-body-md-bold" style="margin-bottom: 12px; color: var(--ubits-fg-1-high);">setActiveDirectLink(linkId)</h3>
                                <p class="ubits-body-md-regular" style="margin-bottom: 8px; line-height: 1.5;">
                                    Activa un enlace directo del floating menu (como UBITS AI, Encuestas).
                                </p>
                                <div style="background: var(--ubits-bg-2); padding: 12px; border-radius: 6px; border-left: 4px solid var(--ubits-accent-brand);">
                                    <div class="ubits-body-sm-regular" style="color: var(--ubits-fg-1-medium);">
                                        <strong>Parámetros:</strong> linkId (string) - ID del enlace directo<br>
                                        <strong>IDs disponibles:</strong> 'ubits-ai', 'encuestas'<br>
                                        <strong>Ejemplo:</strong> setActiveDirectLink('ubits-ai')
                                    </div>
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 24px;">
                                <h3 class="ubits-body-md-bold" style="margin-bottom: 12px; color: var(--ubits-fg-1-high);">setActiveAccordionLink(linkId)</h3>
                                <p class="ubits-body-md-regular" style="margin-bottom: 8px; line-height: 1.5;">
                                    Activa un subitem dentro de los accordions del floating menu.
                                </p>
                                <div style="background: var(--ubits-bg-2); padding: 12px; border-radius: 6px; border-left: 4px solid var(--ubits-accent-brand);">
                                    <div class="ubits-body-sm-regular" style="color: var(--ubits-fg-1-medium);">
                                        <strong>Parámetros:</strong> linkId (string) - ID del subitem<br>
                                        <strong>IDs disponibles:</strong> 'inicio', 'catalogo', 'corporativa', 'zona-estudio', 'evaluaciones', 'objetivos', 'metricas', 'reportes', 'planes', 'tareas'<br>
                                        <strong>Ejemplo:</strong> setActiveAccordionLink('inicio')
                                    </div>
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 24px;">
                                <h3 class="ubits-body-md-bold" style="margin-bottom: 12px; color: var(--ubits-fg-1-high);">Implementación práctica</h3>
                                <p class="ubits-body-md-regular" style="margin-bottom: 12px; line-height: 1.5;">
                                    Para activar automáticamente un item cuando se carga una página:
                                </p>
                                <div style="background: var(--ubits-bg-2); padding: 16px; border-radius: 8px; border: 1px solid var(--ubits-border-1);">
                                    <pre style="margin: 0; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 14px; line-height: 1.5; color: var(--ubits-fg-1-medium);">// En el HTML de la página específica
document.addEventListener('DOMContentLoaded', function() {
    // Cargar componentes
    loadFloatingMenu('floating-menu-container');
    
    // Activar item específico con delay para DOM
    setTimeout(() => {
        setActiveDirectLink('ubits-ai'); // Para enlaces directos
        // O
        setActiveAccordionLink('inicio'); // Para subitems
    }, 500);
});</pre>
                                </div>
                            </div>
                        </div>

                        <!-- Personalización -->
                        <div style="padding: 32px; border-bottom: 1px solid var(--ubits-border-1);">
                            <h2 class="ubits-heading-h2" style="margin-bottom: 24px; color: var(--ubits-fg-1-high);">
                                <i class="far fa-paint-brush" style="margin-right: 8px; color: var(--ubits-accent-brand);"></i>
                                Personalización
                            </h2>
                            <div style="margin-bottom: 24px;">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                                    <h3 class="ubits-body-md-bold" style="margin: 0; color: var(--ubits-fg-1-high);">Agregar nuevas funcionalidades</h3>
                                    <button class="ubits-button ubits-button--secondary ubits-button--sm" onclick="copyCode('add-features-code')">
                                        <i class="far fa-copy"></i>
                                        <span>Copiar</span>
                                    </button>
                                </div>
                                <p class="ubits-body-md-regular" style="margin-bottom: 12px; line-height: 1.5;">
                                    Para agregar nuevos items, edita el HTML del Tab-bar en <code>components/tab-bar.html</code>:
                                </p>
                                <div style="background: var(--ubits-bg-2); padding: 16px; border-radius: 8px; border: 1px solid var(--ubits-border-1);">
                                    <pre style="margin: 0; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 14px; line-height: 1.5; color: var(--ubits-fg-1-medium);"><code id="add-features-code">// En tab-bar.html, dentro del tab-bar-content
&lt;div class="tab-bar-item" data-tab="nueva-opcion" onclick="navigateToTab('nueva-opcion')"&gt;
  &lt;i class="far fa-nuevo-icono tab-bar-icon"&gt;&lt;/i&gt;
  &lt;span class="tab-bar-text ubits-body-xs-regular"&gt;Nueva Opción&lt;/span&gt;
&lt;/div&gt;</code></pre>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                                    <h3 class="ubits-body-md-bold" style="margin: 0; color: var(--ubits-fg-1-high);">Modificar estilos</h3>
                                    <button class="ubits-button ubits-button--secondary ubits-button--sm" onclick="copyCode('modify-styles-code')">
                                        <i class="far fa-copy"></i>
                                        <span>Copiar</span>
                                    </button>
                                </div>
                                <p class="ubits-body-md-regular" style="margin-bottom: 12px; line-height: 1.5;">
                                    Los estilos se pueden personalizar editando las variables CSS en <code>components/tab-bar.css</code>:
                                </p>
                                <div style="background: var(--ubits-bg-2); padding: 16px; border-radius: 8px; border: 1px solid var(--ubits-border-1);">
                                    <pre style="margin: 0; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 14px; line-height: 1.5; color: var(--ubits-fg-1-medium);"><code id="modify-styles-code">/* Personalizar colores del Tab-bar */
.tab-bar {
  background-color: var(--ubits-bg-1);
  border-top: 1px solid var(--ubits-border-1);
}

/* Personalizar items activos */
.tab-bar-item.active {
  color: var(--ubits-accent-brand);
}</code></pre>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            </div>
            </div>
        </main>
    </div>

    <!-- Contenedor para Toast UBITS -->
    <div id="ubits-toast-container"></div>

    <script src="components/sidebar.js"></script>
    <script src="components/sub-nav.js"></script>
    <script src="components/tab-bar.js"></script>
    <script src="components/floating-menu.js"></script>
    <script src="components/profile-menu.js"></script>
    <script src="components/alert.js"></script>
    <script src="components/toast.js"></script>
    <script src="docs/docs-sidebar.js"></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Cargar top-nav con variante documentación
            loadSubNav('top-nav-container', 'documentacion');
            
            // Forzar activación de Componentes en todas las páginas de documentación
            setTimeout(() => {
                // Quitar todas las clases active primero
                document.querySelectorAll('.nav-tab.active, .hamburger-item.active').forEach(item => {
                    item.classList.remove('active');
                });
                
                // Activar solo Componentes
                const navTab = document.querySelector('.nav-tab[data-tab="section3"]');
                const hamburgerItem = document.querySelector('.hamburger-item[data-tab="section3"]');
                if (navTab) navTab.classList.add('active');
                if (hamburgerItem) hamburgerItem.classList.add('active');
            }, 200);
            
            // Cargar sidebar de documentación
            loadDocsSidebar('tab-bar');
            
            // Cargar floating menu para el preview
            loadFloatingMenu('floating-menu-container');
            
            // Cargar profile menu para el preview
            loadProfileMenu('profile-menu-content');
            
            // Cargar alert de warning para prompts usando el componente oficial
            showAlert('warning', 'Importante: Antes de enviar estos prompts a Cursor, reemplaza todos los textos entre [corchetes] con la información específica de tu proyecto.', {
                containerId: 'tabbar-warning-alert',
                noClose: true
            });
            
            // Mostrar floating menu automáticamente en el preview y ocultar profile menu
            setTimeout(() => {
                const floatingMenu = document.getElementById('floating-menu');
                const profileMenuContainer = document.getElementById('profile-menu-preview-container');
                
                if (floatingMenu) {
                    floatingMenu.classList.add('show');
                }
                
                // Asegurar que profile menu esté oculto inicialmente
                if (profileMenuContainer) {
                    profileMenuContainer.classList.remove('show');
                    profileMenuContainer.style.display = 'none';
                }
            }, 500);
        });

        // Funciones para el preview del componente
        function setPreviewOption(option) {
            // Actualizar items del Tab-bar
            const tabBarItems = document.querySelectorAll('#tab-bar-preview-real .tab-bar-item');
            tabBarItems.forEach(item => {
                item.classList.remove('active');
                if (item.dataset.tab === option) {
                    item.classList.add('active');
                }
            });
            
            // Manejar cambio de contenido - EXCLUSIVO
            const floatingMenuContainer = document.getElementById('floating-menu-container');
            const profileMenuContainer = document.getElementById('profile-menu-preview-container');
            const floatingMenu = document.getElementById('floating-menu');
            
            if (option === 'modulos') {
                // SOLO mostrar floating menu
                floatingMenuContainer.style.display = 'block';
                profileMenuContainer.classList.remove('show');
                profileMenuContainer.style.display = 'none';
                
                setTimeout(() => {
                    if (floatingMenu) {
                        floatingMenu.classList.add('show');
                    }
                }, 100);
                
            } else if (option === 'perfil') {
                // SOLO mostrar profile menu
                floatingMenuContainer.style.display = 'none';
                profileMenuContainer.classList.add('show');
                
                // Ocultar floating menu explícitamente
                if (floatingMenu) {
                    floatingMenu.classList.remove('show');
                }
                
            } else {
                // Para otras opciones, ocultar ambos
                floatingMenuContainer.style.display = 'none';
                profileMenuContainer.classList.remove('show');
                profileMenuContainer.style.display = 'none';
                
                if (floatingMenu) {
                    floatingMenu.classList.remove('show');
                }
            }
            
            // Actualizar controles
            const controlButtons = document.querySelectorAll('.preview-control-btn');
            controlButtons.forEach(button => {
                button.classList.remove('active');
            });
            
            const activeControl = document.querySelector(`[onclick="setPreviewOption('${option}')"]`);
            if (activeControl) {
                activeControl.classList.add('active');
            }
        }

        // Función para mostrar/ocultar floating menu en preview
        function toggleFloatingMenuPreview() {
            const floatingMenu = document.getElementById('floating-menu');
            if (floatingMenu) {
                if (floatingMenu.classList.contains('show')) {
                    hideFloatingMenu();
                } else {
                    showFloatingMenu();
                }
            }
        }

        // Función para el acordeón de documentación técnica
        function toggleTechnicalDocs() {
            const content = document.getElementById('technical-docs-content');
            const button = document.querySelector('[onclick="toggleTechnicalDocs()"]');
            
            if (content.style.display === 'none' || content.style.display === '') {
                // Expandir
                content.style.display = 'block';
                button.innerHTML = '<i class="far fa-chevron-up" id="tech-docs-chevron" style="color: var(--ubits-accent-brand);"></i> <span class="ubits-body-md-regular" style="color: var(--ubits-accent-brand);">Ocultar</span>';
            } else {
                // Contraer
                content.style.display = 'none';
                button.innerHTML = '<i class="far fa-chevron-down" id="tech-docs-chevron" style="color: var(--ubits-accent-brand);"></i> <span class="ubits-body-md-regular" style="color: var(--ubits-accent-brand);">Mostrar</span>';
            }
        }

        // Función para copiar prompts
        function copyPrompt(promptId) {
            const promptElement = document.getElementById(promptId);
            const promptText = promptElement.textContent;
            
            // Copiar al portapapeles
            navigator.clipboard.writeText(promptText).then(function() {
                // Mostrar feedback visual
                const button = document.querySelector(`[onclick="copyPrompt('${promptId}')"]`);
                const icon = button.querySelector('i');
                const text = button.querySelector('span');
                
                // Cambiar estado del botón
                icon.className = 'far fa-check';
                text.textContent = 'Copiado';
                button.classList.add('ubits-button--active');
                
                // Mostrar toast
                showToast('success', '¡Prompt copiado! 🎉', {
                    containerId: 'ubits-toast-container',
                    duration: 3500
                });
                
                // Restaurar estado después de 2 segundos
                setTimeout(function() {
                    icon.className = 'far fa-copy';
                    text.textContent = 'Copiar';
                    button.classList.remove('ubits-button--active');
                }, 2000);
                
            }).catch(function(err) {
                console.error('Error al copiar: ', err);
                showToast('error', 'Error al copiar el prompt', {
                    containerId: 'ubits-toast-container',
                    duration: 6500
                });
            });
        }

        // Función para copiar código
        function copyCode(codeId) {
            const codeElement = document.getElementById(codeId);
            const codeText = codeElement.textContent;
            
            // Copiar al portapapeles
            navigator.clipboard.writeText(codeText).then(function() {
                // Mostrar feedback visual
                const button = document.querySelector(`[onclick="copyCode('${codeId}')"]`);
                const icon = button.querySelector('i');
                const text = button.querySelector('span');
                
                // Cambiar estado del botón
                icon.className = 'far fa-check';
                text.textContent = 'Copiado';
                button.classList.add('ubits-button--active');
                
                // Mostrar toast
                showToast('success', '¡Código copiado! 🎉', {
                    containerId: 'ubits-toast-container',
                    duration: 3500
                });
                
                // Restaurar estado después de 2 segundos
                setTimeout(function() {
                    icon.className = 'far fa-copy';
                    text.textContent = 'Copiar';
                    button.classList.remove('ubits-button--active');
                }, 2000);
                
            }).catch(function(err) {
                console.error('Error al copiar: ', err);
                showToast('error', 'Error al copiar el código', {
                    containerId: 'ubits-toast-container',
                    duration: 6500
                });
            });
        }

    </script>
</body>
</html>
